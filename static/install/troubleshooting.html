<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
    <head>
        <meta charset="utf-8"/>
        <title>Troubleshooting | Install | GrapheneOS</title>
        <meta name="description" content="Troubleshooting the installation process for GrapheneOS, a security and privacy focused mobile OS with Android app compatibility."/>
        <meta name="theme-color" content="#212121"/>
        <meta name="msapplication-TileColor" content="#ffffff"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="twitter:site" content="@GrapheneOS"/>
        <meta name="twitter:creator" content="@GrapheneOS"/>
        <meta property="og:title" content="GrapheneOS CLI install guide"/>
        <meta property="og:description" content="Troubleshooting the installation process for GrapheneOS, a security and privacy focused mobile OS with Android app compatibility."/>
        <meta property="og:type" content="website"/>
        <meta property="og:image" content="https://grapheneos.org/opengraph.png"/>
        <meta property="og:image:width" content="512"/>
        <meta property="og:image:height" content="512"/>
        <meta property="og:image:alt" content="GrapheneOS logo"/>
        <meta property="og:site_name" content="GrapheneOS"/>
        <meta property="og:url" content="https://grapheneos.org/install/"/>
        <link rel="canonical" href="https://grapheneos.org/install/"/>
        <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
        <link rel="icon" sizes="any" type="image/svg+xml" href="/mask-icon.svg"/>
        <link rel="mask-icon" href="/mask-icon.svg" color="#1a1a1a"/>
        <link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
        <link rel="stylesheet" href="/grapheneos.css?29"/>
        <link rel="manifest" href="/manifest.webmanifest"/>
        <link rel="license" href="/LICENSE.txt"/>
    </head>
    <body>
        <header>
            <nav id="site-menu">
                <ul>
                    <li><a href="/">GrapheneOS</a></li>
                    <li><a href="/features">Features</a></li>
                    <li aria-current="page"><a href="/install/">Install</a></li>
                    <li><a href="/build">Build</a></li>
                    <li><a href="/usage">Usage</a></li>
                    <li><a href="/faq">FAQ</a></li>
                    <li><a href="/releases">Releases</a></li>
                    <li><a href="/source">Source</a></li>
                    <li><a href="/articles/">Articles</a></li>
                    <li><a href="/donate">Donate</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
        </header>
        <main id="troubleshooting">
            <h1><a href="#troubleshooting">Troubleshooting</a></h1>
                <h2><a href="#table-of-contents">Table of contents</a></h2>
                <ul>
                    <li><a href="#asking-for-help">Asking for help</li>
                    <li><a href="#flashing-fails-tmp">Flashing fails due to tmp being full</li>
                    <li><a href="#fastboot-too-old">./flash-all yields "fastboot too old."</a></li>
                    <li><a href="#flashing-hangs">Flashing hangs once started</a></li>
                </ul>
                    <section id="asking-for-help">
                        <h3><a href="#asking-for-help">Asking for help</a></h3>
                        <p>The text output from a failed attempt at flashing will contain valuable
                        diagnostic information which is essential in knowing where and how the process
                        went wrong. Please provide this information when asking for help on the
                        GrapheneOS IRC / Matrix channel.</p>
                    </section>

                    <section id="flashing-fails-tmp">
                        <h3><a href="#flashing-fails-tmp">Flashing fails due to tmp being full</a></h3>
                        <p>A common issue on Linux distributions is that they mount the default temporary file
                        directory <code>/tmp</code> as tmpfs which results in it being backed by memory and
                        swap rather than persistent storage. By default, the size is 50% of the available
                        virtual memory. This is often not enough for the flashing process, especially since
                        <code>/tmp</code> is shared between applications and users. To use a different
                        temporary directory if your <code>/tmp</code> doesn't have enough space available:</p>

                        <pre>mkdir tmp &amp;&amp; TMPDIR="$PWD/tmp" ./flash-all.sh</pre>
                    </section>

                    <section id="fastboot-too-old">
                        <h3><a href="#fastboot-too-old">./flash-all yields "fastboot too old."</a></h3>
                        <p><strong>Problem:</strong> When typing in <code>./flash-all</code> into the commandline
                        install, some traceback is printed that includes the words "fastboot too old."</p>

                        <p><strong>Cause:</strong> Your version of fastboot is either a third-party unofficial
                        version of fastboot, you have multiple versions of fastboot installed and your system path
                        includes a bad version, or you are not using powershell. This is generally caused by
                        following unofficial, obsolete third-party guides which encourage the use of unofficial
                        adb packages, rather than the official platform tools release from Google.</p>

                        <p><strong>Solution:</strong> Delete or uninstall any third-party versions of fastboot
                        from your computer, including versions of fastboot or platform-tools that were installed
                        via your operating system repositories if you are running any Linux distributions. Undo
                        any changes you have made to your system variables. If you are using Windows, you must
                        use Powershell, rather than cmd.</p>
                    </section>

                    <section id="flashing-hangs">
                        <h3><a href="#flashing-fails-tmp">Flashing hangs once started</a></h3>
                        <p><strong>Problem:</strong> Once flashing is started, either via the commandline, or
                        via the graphical install, it simply hangs. No text is printed to the screen or appears
                        in scrollback. The phone appears inactive.</p>

                        <p><strong>Cause:</strong> This is typically caused by broken USB cables, or your USB
                        slot on your computer's motherboard being faulty and not properly implementing all
                        the features that the USB protocol has that fastboot needs. If the command
                        <code>fastboot devices</code> lists your device properly, but <code>./flash-all</code>
                        hangs once started, it's likely that your motherboard's implementation of USB is broken
                        or incomplete, or your cable is faulty.</p>

                        <p><strong>Solution:</strong> Try another cable, utilizing a high-quality USB-A to USB-C
                        cable plugged into a rear USB3 port of your computer, try switching ports, or try using
                        a different computer altogether.</p>
                    </section>
        </main>
        <footer>
            <a href="/"><img src="/logo.png" width="512" height="512" alt=""/>GrapheneOS</a>
            <ul id="social">
                <li><a href="https://twitter.com/GrapheneOS">Twitter</a></li>
                <li><a href="https://github.com/GrapheneOS">GitHub</a></li>
                <li><a href="https://reddit.com/r/GrapheneOS">Reddit</a></li>
                <li><a href="https://www.linkedin.com/company/grapheneos/">LinkedIn</a></li>
            </ul>
        </footer>
    </body>
</html>
